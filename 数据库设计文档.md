数据库设计

1、用户表

```
create table `user`(
	id varchar(32) not null,
	username varchar(32) not null,
	password varchar(32) not null,
	create_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '创建时间',
	update_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '修改时间',
	is_buyer bit not null comment '0为买家，1为卖家',
	primary key(`id`),
) comment '用户表';
```

2、内容表

```
create table `content`(
	`id` varchar(32) not null,
	`user_id` varchar(32) not null comment '内容发布者id',
	`title` varchar(100) not null comment '内容标题',
	`summary` varchar(150) not null comment '内容摘要',
	`image` varchar(255) DEFAULT NULL COMMENT '图片地址',
  `price` int(20) DEFAULT NULL COMMENT '购买时的价格（单位：分）',
  `text` varchar(1500) DEFAULT NULL COMMENT '内容',
  `num` int(11) DEFAULT '0' COMMENT '卖出数量',
  `valid` int(2) DEFAULT '1' COMMENT '是否有效（1：有效，0：无效）',
	create_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '创建时间',
	update_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '修改时间',
	primary key(`id`)
)comment '内容表';
```

3、购物车表

一个买家对应的购物车

```
create table `cart`(
	id varchar(32) not null,
	`user_id` varchar(32) not null,
	`content_id` varchar(32) not null,
	`num` int(20) not null comment '数量',
	create_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '创建时间',
	update_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '修改时间',
	primary key(`id`),
	key `idx_user_id` (`user_id`)
)comment '购物车表';
```

4、订单表

```
--订单表
create table account(
	id varchar(32) not null,
	user_id varchar(32) not null,
	username varchar(32) not null,
	amount int(20) not null comment '订单总金额',
	`status` TINYINT not null default '0' comment '订单状态，默认为新下单',
	is_pay TINYINT not null default '0' comment '支付状态，默认未支付',
	create_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '创建时间',
	update_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '修改时间',
	primary key(`id`),
	key `idx_user_id` (`user_id`)
)comment '订单表';
```

5、订单详情表

```
create table account_detail(
  id varchar(32) not null,
  account_id varchar(32) not null,
  content_id varchar(32) not null,
  title varchar(100) not null comment '内容标题',
  price decimal(10,2) not null comment '内容单价',
  num int(20) not null comment	'数量',
  icon varchar(512) comment '内容图标',
  create_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '创建时间',
	update_time timestamp not null default  current_timestamp ON UPDATE CURRENT_TIMESTAMP comment '修改时间',
	primary key(`id`),
	key `idx_account_id` (`account_id`)
)comment '订单详情表';
```

